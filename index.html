<!DOCTYPE html>
<html>
	<head>
		<title>Random Tables</title>
		<meta content="text/html; charset=utf-8" http-equiv="content-type">
        <link type="text/css" rel="stylesheet" href="tables.css" />
	</head>
	
	<body>
		<div id="intro">
			<h1>Random Tables</h1>
			<p>This is a tool that lets you easily create and use tables of random data. It is designed for use when running D&amp;D games, but useful for various other purposes. Tables consist of one or more <em>Properties</em>, which each have a number of possible <em>options</em>. When "rolling" on a table, an option is randomly picked for each property, according to their weightings. Each property option can be a full sub-table in its own right, and can include simple calcuations, such as rolling dice. A text format can optionally be specified for the output of each table.</p>
			<p>You can <a href="#" id="createNew">create new tables</a> or load an existing set by entering a URL below:
			<p><input type="text" id="dataUrl" /> <a href="#" id="loadUrl">load</a></p>
			<p>This can be the URL of a Github Gist, or of a raw JSON file. <a href="?source=https://gist.github.com/FTWinston/7b353d1cc2f16bb25910">Click here</a> to load some example data.</p>
		</div>
		
		<div id="displayRoot" style="display:none;">
			<div id="tableList"></div>
			<div id="output"></div>
			<a href="#" id="addTable">add table</a>
			<a href="#" id="saveTables">save tables</a>
			<a href="#" id="closeTables">close tables</a>
			<a href="#" id="toggleMode"></a>
		</div>
		
		<div id="tableEdit" style="display:none;">
			<input type="text" id="tableEdit_name" placeholder="Table name - mandatory" />
			<textarea id="tableEdit_text" placeholder="Display format - optional"></textarea>
			<p>When writing the result of a roll, a property name inside curly brackets will be replaced with the randomly chosen result for that property, e.g. <em>{Something}</em>.<br/>A mathematical expression inside two sets of square brackets will be calculated, e.g. <em>[[2d6 + 5]]</em>.<br />Combine these with text to write generated output in natural language.</p>
			Properties:
			<ul id="tableEdit_properties"></ul>
			<a href="#" id="tableEdit_addProp" class="addNew">add property</a><a href="#" id="tableEdit_back">go back</a>
		</div>
		
		<div id="propertyEdit" style="display:none;">
			<div id="propertyEdit_name"></div>
			<ul id="propertyEdit_options"></ul>
			<a href="#" id="propertyEdit_addOpt" class="addNew">add option</a><a href="#" id="propertyEdit_back">go back</a>
		</div>
		
		<script src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
		<script src="tables.js"></script>
	</body>
</html>